-- KEY TCL COMMANDS
-- 1. START TRANSACTION - BEGINS A NEW TRANSACTION
-- 2. COMMIT - SAVES THE CHANGES MADE IN THE CURRENT TRANSACTION PERMANENETLY
-- 3. ROLLBACK - REVERTS THE CHANGES MADE IN THE CURRENT TRANSATIONS, RESTORING THE DATABASE TO ITS PREVIOUS STATE


SET autocommit=0;

CREATE TABLE EMPLOYEES(ID INT  PRIMARY KEY AUTO_INCREMENT,
FIRST_NAME VARCHAR(20),
LAST_NAME VARCHAR(20)
);

-- START TRANSACTION
START TRANSACTION;

-- insert intial data
INSERT INTO EMPLOYEES(FIRST_NAME, LAST_NAME) VALUES('SUDHA','AGARWAL');

--SET A SAVEPOINT AFTER INSERT;
SAVEPOINT AFTER_INSERT;

UPDATE EMPLOYEES SET LAST_NAME = 'AGARWAL1' WHERE FIRST_NAME= 'SUDHA';

SELECT * FROM EMPLOYEES;

ROLLBACK TO AFTER_INSERT;

COMMIT;

SET autocommit=1;


